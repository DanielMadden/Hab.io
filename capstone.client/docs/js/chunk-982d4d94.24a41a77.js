(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-982d4d94"],{"3c2e":function(e,t,c){"use strict";c.r(t);var s=c("7a23");const a={id:"tab-bar",class:"container-fluid p-0"},o={id:"tab-bar-row",class:"row"},r=Object(s["h"])("i",{class:"fas fa-users"},null,-1),i=Object(s["h"])("i",{class:"fas fa-check-double"},null,-1),n=Object(s["h"])("i",{class:"fas fa-comments"},null,-1),b={class:"row px-3 pt-3 d-flex justify-content-between align-items-center"},u={id:"group-name",class:"page-title px-md-3 pt-3"},l={key:0,id:"group-buttons",class:"d-flex justify-content-between justify-content-md-end"},d=Object(s["h"])("h3",{class:"group-button-text p-0 m-0"},[Object(s["h"])("i",{class:"fas fa-cog"})],-1),p=Object(s["h"])("h1",{class:"group-button-text p-0 m-0"}," + ",-1),m={id:"habit-section",class:"row px-0 px-md-3 pb-3"},g={id:"group-sidebar"},h={id:"group-chat-message-box",class:"d-flex flex-column flex-reverse"},j={id:"group-chat-messages"},O=Object(s["h"])("h1",{class:"m-0 p-0"},[Object(s["h"])("i",{class:"fas fa-paper-plane"})],-1);function f(e,t,c,f,v,y){const M=Object(s["y"])("habit-component"),x=Object(s["y"])("group-member-component"),G=Object(s["y"])("message-component");return Object(s["r"])(),Object(s["e"])("div",{id:"group-details",style:`background: linear-gradient( rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0)), url('${f.group.imageUrl}') no-repeat center center /cover; overflow-y: hidden`},[Object(s["h"])("div",a,[Object(s["h"])("div",o,[Object(s["h"])("div",{id:"tab-bar-members",class:["tab-bar-column col-4 d-flex justify-content-center align-items-center",{selected:"members"==f.state.tabSelect}],onClick:t[1]||(t[1]=e=>f.selectTab("members"))},[r],2),Object(s["h"])("div",{id:"tab-bar-habits",class:["tab-bar-column col-4 d-flex justify-content-center align-items-center",{selected:"habits"==f.state.tabSelect}],onClick:t[2]||(t[2]=e=>f.selectTab("habits"))},[i],2),Object(s["h"])("div",{id:"tab-bar-chat",class:["tab-bar-column col-4 d-flex justify-content-center align-items-center",{selected:"chat"==f.state.tabSelect}],onClick:t[3]||(t[3]=e=>f.selectTab("chat"))},[n],2)])]),Object(s["h"])("div",{id:"group-habits",class:["container-fluid tab-section",{selected:"habits"==f.state.tabSelect}]},[Object(s["h"])("div",b,[Object(s["h"])("h1",u,Object(s["B"])(f.group.name),1),"Moderator"===f.activeGroupMember.status?(Object(s["r"])(),Object(s["e"])("div",l,[Object(s["h"])("button",{id:"open-group-settings",class:"group-button mr-3 d-flex justify-content-center align-items-center",onClick:t[4]||(t[4]=(...e)=>f.openGroupSettings&&f.openGroupSettings(...e))},[d]),Object(s["h"])("button",{id:"add-habit",class:"group-button mr-3 d-flex justify-content-center align-items-center",onClick:t[5]||(t[5]=(...e)=>f.addHabit&&f.addHabit(...e))},[p])])):Object(s["f"])("",!0)]),Object(s["h"])("div",m,[(Object(s["r"])(!0),Object(s["e"])(s["a"],null,Object(s["x"])(f.habits,e=>(Object(s["r"])(),Object(s["e"])("div",{class:"col-12 col-sm-6 col-md-12 col-lg-6 col-lg-4 px-3",key:e.id},[Object(s["h"])(M,{habit:e},null,8,["habit"])]))),128))])],2),Object(s["h"])("div",g,[Object(s["h"])("div",{id:"group-members",class:["group-sidebars d-flex flex-column p-3 tab-section",{selected:"members"==f.state.tabSelect}],onMouseover:t[9]||(t[9]=e=>f.focus("members")),onMouseout:t[10]||(t[10]=e=>f.noFocus())},["Pending"===f.activeGroupMember.status?(Object(s["r"])(),Object(s["e"])("button",{key:0,id:"group-member-list-button-accept",class:"group-member-list-button",onClick:t[6]||(t[6]=e=>f.acceptGroup())}," Accept Invitation ")):Object(s["f"])("",!0),"Pending"===f.activeGroupMember.status?(Object(s["r"])(),Object(s["e"])("button",{key:1,id:"group-member-list-button-decline",class:"group-member-list-button",onClick:t[7]||(t[7]=e=>f.declineGroup())}," Decline Invitation ")):Object(s["f"])("",!0),!1===f.group.private&&("Member"===f.activeGroupMember.status||"Moderator"===f.activeGroupMember.status)||!0===f.group.private&&"Moderator"===f.activeGroupMember.status?(Object(s["r"])(),Object(s["e"])("button",{key:2,id:"group-member-list-button-invite",class:"group-member-list-button",onClick:t[8]||(t[8]=(...e)=>f.inviteModal&&f.inviteModal(...e))}," Invite ")):Object(s["f"])("",!0),(Object(s["r"])(!0),Object(s["e"])(s["a"],null,Object(s["x"])(f.groupMembers,e=>(Object(s["r"])(),Object(s["e"])(x,{key:e.id,"group-member":e},null,8,["group-member"]))),128))],34),f.authenticated?(Object(s["r"])(),Object(s["e"])("div",{key:0,id:"group-chat",class:["group-sidebars tab-section",{selected:"chat"==f.state.tabSelect}],onMouseover:t[14]||(t[14]=e=>f.focus("chat")),onMouseout:t[15]||(t[15]=e=>f.noFocus())},[Object(s["h"])("div",h,[Object(s["h"])("div",j,[(Object(s["r"])(!0),Object(s["e"])(s["a"],null,Object(s["x"])(f.messages,e=>(Object(s["r"])(),Object(s["e"])(G,{key:e.id,message:e},null,8,["message"]))),128))])]),Object(s["h"])("form",{id:"group-chat-bar",class:"d-flex",onSubmit:t[13]||(t[13]=Object(s["J"])((...e)=>f.sendMessage&&f.sendMessage(...e),["prevent"]))},[Object(s["I"])(Object(s["h"])("input",{id:"group-chat-input",type:"text",placeholder:"send a message...","onUpdate:modelValue":t[11]||(t[11]=e=>f.state.message=e),autocomplete:"off"},null,512),[[s["E"],f.state.message]]),Object(s["h"])("div",{id:"group-chat-send",class:"d-flex justify-content-center align-items-center",onClick:t[12]||(t[12]=(...e)=>f.sendMessage&&f.sendMessage(...e))},[O])],32)],34)):Object(s["f"])("",!0)])],4)}var v=c("6c02"),y=c("6461"),M=c("83fc"),x=c("c693"),G=c("9f2d"),k=c("265f"),w=c("ff1e"),S={setup(){const e=Object(v["c"])(),t=Object(v["d"])(),c=Object(s["c"])(()=>M["a"].activeGroup),a=Object(s["c"])(()=>M["a"].activeGroupMembers),o=Object(s["c"])(()=>M["a"].activeGroupHabits),r=Object(s["c"])(()=>M["a"].activeGroupMessages),i=Object(s["c"])(()=>M["a"].user.isAuthenticated),n=Object(s["c"])(()=>M["a"].activeGroupMember),b=Object(s["v"])({message:"",tabSelect:"habits"}),u=e=>{b.tabSelect=e},l=()=>{b.message.length>0&&(k["a"].sendMessage({groupId:c.value.id,body:b.message}),b.message="")},d=e=>{const t=document.querySelector("#group-details").style;"members"===e?t.setProperty("--members-height","75%"):t.setProperty("--members-height","25%")},p=()=>{const e=document.querySelector("#group-details").style;e.setProperty("--members-height","50%")},m=e=>{const t=document.querySelector("#group-chat").style;e?t.setProperty("--group-chat-height","6em"):t.setProperty("--group-chat-height","3em")},g=()=>{const e=document.getElementById("group-chat-message-box");e.scrollTop=e.scrollHeight},h=()=>{M["a"].darken=!0,M["a"].showModal=!0,M["a"].showInviteModal=!0,M["a"].accountSearchResults=[],M["a"].accountSelectedInvitees=[]},j=()=>{M["a"].darken=!0,M["a"].showModal=!0,M["a"].showAddHabitForm=!0},O=()=>{M["a"].darken=!0,M["a"].showModal=!0,M["a"].showGroupSettings=!0},f=()=>{x["a"].acceptGroupInvite(n.value.id)},S=()=>{x["a"].declineGroupInvite(n.value.id),t.push("/")};return Object(s["p"])(()=>{y["a"].getGroup(e.params.id,!0),x["a"].getGroupMembers(e.params.id),G["a"].getGroupHabits(e.params.id);const t=setInterval(()=>{M["a"].user.isAuthenticated&&(k["a"].getGroupMessages(e.params.id),x["a"].getActiveGroupMember(e.params.id),w["a"].emit("join:room",e.params.id),clearInterval(t))},10)}),{group:c,groupMembers:a,focus:d,noFocus:p,addHabit:j,habits:o,inviteModal:h,state:b,focusInput:m,sendMessage:l,messages:r,scrollBottom:g,authenticated:i,activeGroupMember:n,openGroupSettings:O,selectTab:u,acceptGroup:f,declineGroup:S}}};c("e075");S.render=f;t["default"]=S},d8a9:function(e,t,c){},e075:function(e,t,c){"use strict";c("d8a9")}}]);